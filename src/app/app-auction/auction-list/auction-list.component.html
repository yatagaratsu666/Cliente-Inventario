<div class="auction-page">
  <!-- ğŸ”¹ Layout principal con sidebar -->
  <div class="content-layout">
    
    <!-- ğŸ”¹ Sidebar de categorÃ­as -->
    <div class="sidebar">
      <button (click)="filterByCategory('armas')">âš”ï¸ Armas</button>
      <button (click)="filterByCategory('items')">ğŸ’ Ãtems</button>
      <button (click)="filterByCategory('armaduras')">ğŸ›¡ï¸ Armaduras</button>
      <button (click)="filterByCategory('epicas')">ğŸŒŸ Ã‰picas</button>
      <button (click)="filterByCategory('heroes')">ğŸ¦¸ HÃ©roes</button>
    </div>

    <!-- ğŸ”¹ Contenido principal -->
    <div class="main-content">
      <!-- Barra superior -->
      <div class="toolbar">
        <button (click)="goToComprar()">ğŸ›’ Comprar</button>
        <button (click)="goToVender()">ğŸ“¦ Vender</button>
        <button (click)="goToRecoger()">ğŸ Recoger</button>
        <button (click)="goToMisPujas()">ğŸ’° Mis pujas</button>
      </div>

      <!-- Filtros -->
      <div class="filters">
        <input
          type="text"
          placeholder="Buscar por nombre (mÃ­n. 4 caracteres)..."
          [(ngModel)]="filter"
          (ngModelChange)="applyFilter()"
        />

        <select [(ngModel)]="selectedType" (ngModelChange)="applyFilter()">
          <option value="">Todos los tipos</option>
          <option *ngFor="let t of uniqueTypes" [value]="t">{{ t }}</option>
        </select>

        <select [(ngModel)]="selectedDuration" (ngModelChange)="applyFilter()">
          <option value="">Todas las duraciones</option>
          <option value="24">24 horas</option>
          <option value="48">48 horas</option>
        </select>

        <input
          type="number"
          placeholder="Precio mÃ¡ximo"
          [(ngModel)]="maxPrice"
          (ngModelChange)="applyFilter()"
        />
      </div>

      <!-- Listado -->
      <div class="list">
        <app-auction-card
          *ngFor="let a of filtered"
          [auction]="a"
          (click)="openDetails(a)"
        ></app-auction-card>
      </div>

      <!-- Detalle -->
      <app-auction-details
        *ngIf="selected"
        [auction]="selected"
        [token]="token || ''"
        (onClose)="closeDetails()"
        (onBought)="handleBought($event)"
      ></app-auction-details>
    </div>
  </div>
</div>
